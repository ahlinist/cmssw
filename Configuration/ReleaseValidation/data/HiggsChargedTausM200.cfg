process Rec = 
{
  untracked PSet maxEvents = {untracked int32 input = 1}

  untracked PSet configurationMetadata = 
  {
    untracked string version = "$Revision:$"
    untracked string name = "$Source:$"
    untracked string annotation = "RelVal charge Higgs to taus, mHiggs=200GeV"
   }

  include "Configuration/ReleaseValidation/data/Services.cff"
  include "Configuration/StandardSequences/data/FakeConditions.cff"
  include "FWCore/MessageService/data/MessageLogger.cfi"
    
  untracked PSet options = 
  {
    include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
    untracked bool wantSummary = true
    untracked bool makeTriggerResults = true 
  }

  source = PythiaSource 
  {
    untracked int32 pythiaPylistVerbosity = 0
    untracked bool pythiaHepMCVerbosity   = false
    untracked int32 maxEventsToPrint      = 0  
    untracked double filterEfficiency     = 1.

    PSet PythiaParameters = 
    {
      # This is a vector of ParameterSet names to be read, in this order
      vstring parameterSets = 
      {
        "pythiaUESettings",
        "processParameters"
        "pythiaMSSMmhmax"
       }
      
      include "Configuration/Generator/data/PythiaUESettings.cfi"
  
      vstring processParameters = 
      {
        "MSEL = 0                ! user control",
        "MSUB(401) = 1           ! gg->tbH+ Registered by Alexandre.Nikitenko@cern.ch",
        "MSUB(402) = 1           ! qq->tbH+ Registered by Alexandre.Nikitenko@cern.ch",
#       "TAUO = 0 0              ! Registered by Alexandre.Nikitenko@cern.ch",
        "IMSS(1)= 1              ! MSSM ",
        "RMSS(5) = 30.           ! TANBETA",
        "RMSS(19) = 200.         ! (D=850.) m_A",
# higgs decays
        "MDME(503,1)=0           !Higgs(H+) decay into dbar            u",
        "MDME(504,1)=0           !Higgs(H+) decay into sbar            c",
        "MDME(505,1)=0           !Higgs(H+) decay into bbar            t",
        "MDME(506,1)=0           !Higgs(H+) decay into b bar           t",
        "MDME(507,1)=0           !Higgs(H+) decay into e+              nu_e",
        "MDME(508,1)=0           !Higgs(H+) decay into mu+             nu_mu",
        "MDME(509,1)=1           !Higgs(H+) decay into tau+            nu_tau",
        "MDME(510,1)=0           !Higgs(H+) decay into tau prime+           nu_tau",
        "MDME(511,1)=0           !Higgs(H+) decay into W+              h0",
        "MDME(512,1)=0           !Higgs(H+) decay into ~chi_10         ~chi_1+",
        "MDME(513,1)=0           !Higgs(H+) decay into ~chi_10         ~chi_2+",
        "MDME(514,1)=0           !Higgs(H+) decay into ~chi_20         ~chi_1+",
        "MDME(515,1)=0           !Higgs(H+) decay into ~chi_20         ~chi_2+",
        "MDME(516,1)=0           !Higgs(H+) decay into ~chi_30         ~chi_1+",
        "MDME(517,1)=0           !Higgs(H+) decay into ~chi_30         ~chi_2+",
        "MDME(518,1)=0           !Higgs(H+) decay into ~chi_40         ~chi_1+",
        "MDME(519,1)=0           !Higgs(H+) decay into ~chi_40         ~chi_2+",
        "MDME(520,1)=0           !Higgs(H+) decay into ~t_1            ~b_1bar",
        "MDME(521,1)=0           !Higgs(H+) decay into ~t_2            ~b_1bar",
        "MDME(522,1)=0           !Higgs(H+) decay into ~t_1            ~b_2bar",
        "MDME(523,1)=0           !Higgs(H+) decay into ~t_2            ~b_2bar",
        "MDME(524,1)=0           !Higgs(H+) decay into ~d_Lbar         ~u_L",
        "MDME(525,1)=0           !Higgs(H+) decay into ~s_Lbar         ~c_L",
        "MDME(526,1)=0           !Higgs(H+) decay into ~e_L+           ~nu_eL",
        "MDME(527,1)=0           !Higgs(H+) decay into ~mu_L+          ~nu_muL",
        "MDME(528,1)=0           !Higgs(H+) decay into ~tau_1+         ~nu_tauL",
        "MDME(529,1)=0           !Higgs(H+) decay into ~tau_2+         ~nu_tauL"
      }

      vstring pythiaMSSMmhmax = 
      {
        "RMSS(2)= 200.           ! SU(2) gaugino mass ",
        "RMSS(3)= 800.           ! SU(3) (gluino) mass ",
        "RMSS(4)= 200.           ! higgsino mass parameter",
        "RMSS(6)= 1000.          ! left slepton mass",
        "RMSS(7)= 1000.          ! right slepton mass",
        "RMSS(8)= 1000.          ! right slepton mass",
        "RMSS(9)= 1000.          ! right squark mass",
        "RMSS(10)= 1000.         ! left sq mass for 3th gen/heaviest stop mass",
        "RMSS(11)= 1000.         ! right sbottom mass/lightest sbotoom mass",
        "RMSS(12)= 1000.         ! right stop mass/lightest stop mass",
        "RMSS(13)= 1000.         ! left stau mass",
        "RMSS(14)= 1000.         ! right stau mass",
        "RMSS(15)= 2449.         ! Ab",
        "RMSS(16)= 2449.         ! At",
        "RMSS(17)= 2449.         ! Atau"
      }
    } 
  }
   
  include "Configuration/StandardSequences/data/Reconstruction.cff"
  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
  include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 
  include "Configuration/StandardSequences/data/L1Emulator.cff"

  path p1 = {psim} # simulation
  path p2 = {pdigi} # digitization
  path p3 = {reconstruction_plusRS_plus_GSF} # reconstruction
  path p4 = {L1Emulator}

  include "Configuration/EventContent/data/EventContent.cff"

  module FEVT = PoolOutputModule 
  { 
    using FEVTSIMEventContent
    untracked string fileName = "chtau_200_pythia.root"
    untracked PSet dataset =
    {	
      untracked string dataTier = "GEN-SIM-DIGI-RECO"
    }
  }

  endpath outpath = {FEVT}

  schedule = {p1,p2,p3,p4,outpath}
}
