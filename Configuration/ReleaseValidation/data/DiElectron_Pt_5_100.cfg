process Rec = 
{
  untracked PSet maxEvents = {untracked int32 input = 1}

  untracked PSet ReleaseValidation = 
  {
    untracked uint32 totalNumberOfEvents = 5000
    untracked uint32 eventsPerJob        = 250
    untracked string primaryDatasetName  = 'RelValDiElectron_Pt_5_100'
  }

  untracked PSet configurationMetadata = 
  {
    untracked string version = "$Revision: 1.2 $"
    untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/Configuration/ReleaseValidation/data/DiElectron_Pt_5_100.cfg,v $"
    untracked string annotation = "RelVal di electron pt=5-100GeV"
   }

  include "Configuration/ReleaseValidation/data/Services.cff"
  include "Configuration/StandardSequences/data/FrontierConditions.cff"
  include "FWCore/MessageService/data/MessageLogger.cfi"
    
  untracked PSet options = 
  {
    include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
    untracked bool wantSummary = true
    untracked bool makeTriggerResults = true 
  }

  source = FlatRandomPtGunSource
  {
    untracked PSet PGunParameters =
    {
      untracked vint32 PartID = { 11 }
      untracked double MinEta = -2.7
      untracked double MaxEta =  2.7
      untracked double MinPhi = -3.14159265358979323846 # in radians
      untracked double MaxPhi =  3.14159265358979323846
      untracked double MinPt  = 5.
      untracked double MaxPt  = 100.
    }
    untracked bool AddAntiParticle = true # back-to-back particles
    untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
  }
  
  include "Configuration/StandardSequences/data/Reconstruction.cff"
  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
  include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 
  include "Configuration/StandardSequences/data/L1Emulator.cff"

  path p1 = {psim} # simulation
  path p2 = {pdigi} # digitization
  path p3 = {reconstruction_plusRS_plus_GSF} # reconstruction
  path p4 = {L1Emulator}

  include "Configuration/EventContent/data/EventContent.cff"

  module FEVT = PoolOutputModule 
  { 
    using FEVTSIMEventContent
    untracked string fileName = "DiElectron_Pt_5_100.root"
    untracked PSet dataset =
    {	
      untracked string dataTier = "GEN-SIM-DIGI-RECO"
    }
  }

  endpath outpath = {FEVT}

  schedule = {p1,p2,p3,p4,outpath}
}
